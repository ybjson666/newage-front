(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1150:function(e,t,a){"use strict";a.d(t,"p",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"k",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"q",(function(){return c})),a.d(t,"o",(function(){return l})),a.d(t,"n",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"m",(function(){return p})),a.d(t,"l",(function(){return m})),a.d(t,"h",(function(){return h})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return g})),a.d(t,"j",(function(){return v})),a.d(t,"e",(function(){return y})),a.d(t,"a",(function(){return b}));var n={1:"\u5f85\u5ba1\u6838",2:"\u5df2\u901a\u8fc7",3:"\u4e0d\u901a\u8fc7",4:"\u64a4\u9500\u8d44\u683c"},i={1:"\u62db\u52df\u4e2d",2:"\u8fdb\u884c\u4e2d",3:"\u5f85\u62db\u52df",4:"\u5df2\u7ed3\u675f",5:"\u5f85\u5f00\u59cb"},r={3:"\u5f85\u62db\u52df",1:"\u62db\u52df\u4e2d",5:"\u5f85\u5f00\u59cb",2:"\u8fdb\u884c\u4e2d",4:"\u5df2\u7ed3\u675f"},s={1:"\u5f85\u5ba1\u6838",2:"\u901a\u8fc7",3:"\u672a\u901a\u8fc7",4:"\u53d6\u6d88\u7533\u8bf7"},o={1:"\u5f85\u5ba1\u6838",2:"\u901a\u8fc7",3:"\u672a\u901a\u8fc7",4:"\u53d6\u6d88\u7533\u8bf7"},c={1:"\u5f85\u5ba1\u6838",2:"\u8fdb\u884c\u4e2d",3:"\u672a\u901a\u8fc7",4:"\u53d6\u6d88\u7533\u8bf7",5:"\u5df2\u5b8c\u6210"},l={1:"\u7537",2:"\u5973","-1":"\u672a\u77e5"},u={0:"\u7981\u7528",1:"\u542f\u7528"},d={0:"\u7981\u7528",1:"\u542f\u7528"},p={0:"\u7981\u7528",1:"\u542f\u7528"},m={0:"\u5f85\u5ba1\u6838",1:"\u5ba1\u6838\u901a\u8fc7",2:"\u5ba1\u6838\u62d2\u7edd",3:"\u53d6\u6d88\u9884\u7ea6"},h={1:"\u5f85\u5ba1\u6838",2:"\u5ba1\u6838\u901a\u8fc7",3:"\u5ba1\u6838\u62d2\u7edd",4:"\u53d6\u6d88\u9884\u7ea6",5:"\u5df2\u5b8c\u6210","-99":"\u670d\u52a1\u5931\u6548"},f=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,g=/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,v=/^1(3|4|5|6|7|8|9)\d{9}$/,y="d02ce754ffe9c4a719a3ec20212d904c";function b(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}b.prototype.encode=function(e){var t,a,n,i,r,s,o,c="",l=0;for(e=this._utf8_encode(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,r=(3&t)<<4|(a=e.charCodeAt(l++))>>4,s=(15&a)<<2|(n=e.charCodeAt(l++))>>6,o=63&n,isNaN(a)?s=o=64:isNaN(n)&&(o=64),c=c+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(o);return c},b.prototype.decode=function(e){var t,a,n,i,r,s,o="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(i=this._keyStr.indexOf(e.charAt(c++)))>>4,a=(15&i)<<4|(r=this._keyStr.indexOf(e.charAt(c++)))>>2,n=(3&r)<<6|(s=this._keyStr.indexOf(e.charAt(c++))),o+=String.fromCharCode(t),64!=r&&(o+=String.fromCharCode(a)),64!=s&&(o+=String.fromCharCode(n));return o=this._utf8_decode(o)},b.prototype._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},b.prototype._utf8_decode=function(e){for(var t="",a=0,n=0,i=0,r=0;a<e.length;)(n=e.charCodeAt(a))<128?(t+=String.fromCharCode(n),a++):n>191&&n<224?(i=e.charCodeAt(a+1),t+=String.fromCharCode((31&n)<<6|63&i),a+=2):(i=e.charCodeAt(a+1),r=e.charCodeAt(a+2),t+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&r),a+=3);return t}},1153:function(e,t,a){},1158:function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return c})),a.d(t,"j",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"i",(function(){return h})),a.d(t,"h",(function(){return f})),a.d(t,"l",(function(){return g}));var n=a(116),i=a(320),r=function(e){var t="".concat(i.a,"/activityPractice/admin/query");return n.a.post(t,e.params)},s=function(e){var t="".concat(i.a,"/activityPractice/admin/del");return n.a.post(t,e)},o=function(e){var t="".concat(i.a,"/activityPractice/admin/add");return n.a.post(t,e)},c=function(e){var t="".concat(i.a,"/activityPractice/admin/checkActivityRecruit");return n.a.post(t,e)},l=function(e){var t="".concat(i.a,"/activityPractice/admin/update");return n.a.post(t,e)},u=function(e){var t="".concat(i.a,"/activityPractice/admin/deletePracticeEnter");return n.a.post(t,e)},d=function(e){var t="".concat(i.a,"/activityPractice/admin/checkActivityPracticeEnter");return n.a.post(t,e)},p=function(e){var t="".concat(i.a,"/activityPracticeEnter/admin/audit");return n.a.post(t,e)},m=function(e){var t="".concat(i.a,"/activityPracticeEnter/admin/checkActivityEnter");return n.a.post(t,e)},h=function(e){var t="".concat(i.a,"/activityPracticeEnter/admin/queryActivityEnter");return n.a.post(t,e)},f=function(e){var t="".concat(i.a,"/activityPractice/admin/enable");return n.a.post(t,e)},g=function(e){var t="".concat(i.a,"/other/admin/cms/params");return n.a.post(t,e)}},1159:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));a(1125);var n=a(1124),i=(a(146),a(41)),r=(a(321),a(117)),s=a(174),o=a(175),c=a(177),l=a(176),u=a(179),d=a(178),p=a(0),m=a.n(p),h=(a(1153),a(182)),f=a(323),g=Object(h.a)(window.location.search),v=Object(f.a)(),y=g.stag;y&&(y=y.replace("/",""));var b={};b="H"===y?{access_token:v.access_token,stag:"H"}:{login_id:v.login_chinamcloud_id,login_tid:v.login_chinamcloud_tid,stag:"B"};var E=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).buttonClick=function(){var e=a.props.type;"look"===(void 0===e?"upload":e)&&a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.state={visible:!1,value:""};var n=["image/png","image/jpg","image/jpeg"],i=Object(u.a)(a);return a.uploadProps={name:"file",action:a.props.api||"/v1/picture/admin/uploadf",showUploadList:!1,accept:a.props.accept,data:b,beforeUpload:function(e,t){if(!n.includes(e.type))return r.a.info("\u8bf7\u4e0a\u4f20png,jpg,jpeg\u683c\u5f0f\u56fe\u7247"),!1;var a=new FileReader;return a.readAsDataURL(e),a.onload=function(){i.currentUpdateUrl=a.result},!0},onChange:function(e){e.file.status,"done"===e.file.status?e.file.response.success?(r.a.success("\u4e0a\u4f20\u6210\u529f"),i.setState({value:i.currentUpdateUrl}),"onChange"in i.props&&(i.props.onChange(e.file.response),r.a.success(" \u4e0a\u4f20\u6210\u529f!"))):(r.a.error("\u4e0a\u4f20\u5931\u8d25"),i.props.error&&i.props.error()):"error"===e.file.status&&(r.a.error("\u4e0a\u4f20\u5931\u8d25"),i.props.error&&i.props.error())}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement(n.a,Object.assign({disabled:this.props.disabled,className:"upload-inline"},this.uploadProps,{ref:function(t){return e.node=t}}),this.state.value?m.a.createElement("img",{src:this.state.value,style:{width:"100%",height:"100%"},alt:""}):m.a.createElement(i.a,{onClick:this.buttonClick,type:"link",block:!0},this.props.buttonText||"\u4e0a\u4f20\u56fe\u7247"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.imgValue;return a?{value:a}:null}}]),t}(m.a.Component)},1160:function(e,t,a){"use strict";a(321);var n=a(117),i=a(174),r=a(175),s=a(177),o=a(176),c=a(179),l=a(178),u=a(0),d=a.n(u),p=a(1128),m=a.n(p),h=(a(1129),a(1162),a(489)),f=["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","sans-serif"],g=p.Quill.import("formats/font");g.whitelist=f,p.Quill.register(g,!0);var v=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:f}],[{align:[]}],["link","image"],["clean"]],y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).imageHandler=function(){var e=Object(c.a)(a),t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","*"),t.click(),a.quill.editingArea.getSelection||a.quill.editingArea.focus(),t.onchange=function(){var a=t.files[0],n=new FileReader;n.readAsDataURL(a),n.onload=function(){var t=this,a=n.result;Object(h.n)({file:a}).then((function(n){if(n&&n.success){var i=e.quill.getEditor(),r=i.getSelection().index;i.insertEmbed(r,"image",e.imgPrev+n.data,p.Quill.sources.USER),i.setSelection(r+1)}else{var s=e.quill.getEditor(),o=s.getSelection().index;s.insertEmbed(o,"image",a,p.Quill.sources.USER),s.setSelection(o+1)}t.imgupload=!0}))}}},a.modules={toolbar:{container:v,handlers:{image:function(){a.props.disabled||a.imageHandler()}},imageDrop:!0}},a.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","code-block","background","align","link","image","color"],a.state={contentHtml:e.value||e.defaultValue||""},a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.imgPrev=sessionStorage.getItem("imgPrev"),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){"value"in this.props&&this.setState({contentHtml:e.value||""})}},{key:"handleChange",value:function(e,t,a,i){var r=this,s=i.getContents().ops||"",o=this.state.contentHtml,c=e;(c=(c=(c=c.replace(/<p>/g,"")).replace(/<\/p>/g,"")).replace(/<br>/g,"")).trim()||(e="");var l=0,u=!1;s&&Array.isArray(s)&&s.map((function(e){"string"===typeof e.insert&&(l+=e.insert.length,"limit"in r.props&&l>r.props.limit&&(u=!0))})),u&&!this.props.disabled?(n.a.error("\u5b57\u6570\u4e0d\u80fd\u5927\u4e8e".concat(this.props.limit-1,"\u4e2a\u5b57!")),"onChange"in this.props&&this.props.onChange(o||!1),this.setState({contentHtml:o})):("onChange"in this.props&&this.props.onChange(e),this.setState({contentHtml:e}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"quill-editor ".concat(this.props.className)},d.a.createElement(m.a,{ref:function(t){!e.quill&&t&&(e.quill=t)},value:this.state.contentHtml,onChange:this.handleChange,placeholder:this.props.placeholder,readOnly:this.props.disabled,modules:this.modules,formats:this.formats}))}}]),t}(d.a.Component);t.a=y},1162:function(e,t,a){},1163:function(e,t,a){"use strict";a(1110);var n=a(1111),i=(a(1118),a(1119)),r=(a(496),a(1130)),s=(a(146),a(41)),o=(a(493),a(9)),c=a(174),l=a(175),u=a(177),d=a(176),p=a(178),m=(a(1131),a(1134)),h=(a(241),a(180)),f=a(0),g=a.n(f),v=a(179),y=a(1132),b=a(1133),E=a.n(b),S=a(1150),C=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getStatus=function(){return a.state.position&&a.state.position.longitude&&a.state.position.latitude};var n=Object(v.a)(a);return a.map=null,a.marker=null,a.geocoder=null,a.autocomplete=null,a.state={mounted:!1,isFirstGeo:!0,position:a.props.position,currentLocation:a.props.location},a.key=S.e,a.mapPlugins=["ToolBar"],a.markerEvents={click:function(){},created:function(e){var t=a.props.position&&a.props.position.longitude&&a.props.position.latitude?a.props.position:"";t&&(n.map.setCenter(new window.AMap.LngLat(t.longitude||t.lng,t.latitude||t.lat)),a.setPosition(t))}},a.autocompleteSearch=function(e,t){e&&n.autocomplete.search(e,t)},a.mapEvents={created:function(e){n.map=e,n.map.setZoom(14),window.AMap.plugin(["AMap.Autocomplete","AMap.PlaceSearch","AMap.Geocoder"],(function(){n.geocoder=new window.AMap.Geocoder({city:"010"}),n.placeSearch=new window.AMap.PlaceSearch({city:"010"});n.autocomplete=new window.AMap.Autocomplete({datatype:"poi"}),window.AMap.event.addListener(n.autocomplete,"select",(function(t){e.setZoom(14),e.setCenter(t.poi.location);var a=t.poi.district?t.poi.district+t.poi.address+t.poi.name:t.poi.name;n.setState({position:t.poi.location,currentLocation:a},(function(){n.props.onChange(t.poi.location,a)}))}))}))},click:function(e){if(!n.props.readOnly){var t=e.lnglat;n.setState({position:{longitude:t.longitude||t.lng,latitude:t.latitude||t.lat,lng:t.longitude||t.lng,lat:t.latitude||t.lat},currentLocation:"\u8bfb\u53d6\u4e2d..."});var a=[t.lng,t.lat];n.geocoder&&n.geocoder.getAddress(a,(function(e,a){if("complete"===e)if(a.regeocode){var i=a.regeocode.formattedAddress||"\u672a\u77e5\u5730\u70b9";n.setState({currentLocation:i},(function(){n.props.onChange(t,i)}))}else n.setState({currentLocation:"\u672a\u77e5\u5730\u70b9"});else n.setState({currentLocation:"\u672a\u77e5\u5730\u70b9"})}))}}},a.geolocationEvents={created:function(e){null!=n.state.position&&a.state.position.latitude||e.getCurrentPosition(),window.AMap.event.addListener(e,"complete",(function(e){null!=n.state.position&&a.state.position.latitude||n.setState({position:{longitude:e.position.longitude||e.position.lng,latitude:e.position.latitude||e.position.lat,lng:e.position.longitude||e.position.lng,lat:e.position.latitude||e.position.lat},currentLocation:e.formattedAddress},(function(){n.map.setZoom(17),n.map.setCenter(e.position),n.props.onChange(e.position,e.formattedAddress)})),n.state.isFirstGeo||n.map.setCenter(e.position),n.setState({isFirstGeo:!1})}))}},a.geolocationPluginProps={enableHighAccuracy:!0,timeout:1e4,GeoLocationFirst:!0,showButton:!0,panToLocation:!1},a.setValue=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.setState({position:e,currentLocation:t},(function(){i&&(n.map.setZoom(17),n.map.setCenter(e),n.props.onChange(e,t))}))},a.setPosition=function(e,t){var n={longitude:e.longitude,latitude:e.latitude,lng:e.longitude,lat:e.latitude};a.setValue(n,t)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return this.state.mounted?g.a.createElement(y.Map,{className:"map-out ".concat(this.props.styleName),amapkey:this.key,events:this.mapEvents},this.props.geolocation&&g.a.createElement(E.a,Object.assign({},this.geolocationPluginProps,{events:this.geolocationEvents})),this.getStatus()?g.a.createElement(y.Marker,{events:this.markerEvents,position:this.getStatus()?{longitude:this.state.position.longitude||this.state.position.lng,latitude:this.state.position.latitude||this.state.position.lat,lng:this.state.position.longitude||this.state.position.lng,lat:this.state.position.latitude||this.state.position.lat}:{},visible:!0,clickable:!this.props.readOnly,draggable:!this.props.readOnly}):""):null}}]),t}(g.a.Component);C.contextTypes={},C.defaultProps={geolocation:!0,location:"",position:{},addressChange:"",readOnly:!1,styleName:"",onChange:function(e,t){console.log(t)}};var D=C;a(184),a(1164);a.d(t,"a",(function(){return O}));var k=h.a.Search,w=(h.a.Group,m.a.Option),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).openMap=function(){a.props.disabled||a.setState({visible:!0})},a.onCancel=function(){a.setState({visible:!1})},a.locationChane=function(e,t){a.place=t,a.addressPoint={latitude:e.lat,longitude:e.lng,coordSystem:"GCJ02"},a.setState({searchValue:t})},a.mapButton=function(){return g.a.createElement(s.a,{className:"active-text",onClick:a.openMap},g.a.createElement(o.a,{type:"environment-o"}))},a.onSearch=function(e){a.setState({inputValue:a.state.searchValue})},a.onOk=function(){a.setState({visible:!1,inputShowValue:a.place}),"onChange"in a.props&&a.props.onChange(a.place,a.addressPoint)},a.outInputValue=function(e){a.props.disabled||(a.setState({inputShowValue:e.target.value}),a.place=e.target.value,e.target.value||(a.addressPoint="",a.setState({searchValue:""}),a.addressMap.map.clearMap()),"onChange"in a.props&&a.props.onChange(e.target.value,a.addressPoint||""))},a.changeLat=function(e){a.addressPoint={latitude:e,longitude:a.addressPoint&&a.addressPoint.longitude,coordSystem:"WGS84"},"onChange"in a.props&&a.props.onChange(a.place,a.addressPoint||"")},a.changeLon=function(e){a.addressPoint={latitude:a.addressPoint&&a.addressPoint.latitude,longitude:e,coordSystem:"WGS84"},"onChange"in a.props&&a.props.onChange(a.place,a.addressPoint||"")},a.state={visible:!1,searchValue:"",inputValueChange:"",inputValue:"",inputShowValue:e.locationValue||"",addressAutoCompleteDataSource:[]},a.prevAddressPoint=e.locationPoint||{},a.addressPoint=e.locationPoint||{},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=g.a.createElement("span",null,this.state.inputShowValue);return g.a.createElement("div",{ref:function(t){return e.wrapper=t},className:"addressChoose ".concat(this.props.className," ")},this.state.inputShowValue?g.a.createElement(r.a,{content:t},g.a.createElement(h.a,{readOnly:!0,value:this.state.inputShowValue,disabled:this.props.disabled,onChange:this.outInputValue,placeholder:"\u8bf7\u9009\u62e9\u5730\u5740",allowClear:!0,addonAfter:this.mapButton()})):g.a.createElement(h.a,{readOnly:!0,value:this.state.inputShowValue,disabled:this.props.disabled,onChange:this.outInputValue,placeholder:"\u8bf7\u9009\u62e9\u5730\u5740",allowClear:!0,addonAfter:this.mapButton()}),this.props.showLatLon&&this.state.inputShowValue?g.a.createElement("span",null,g.a.createElement("span",{className:"mr-s"},g.a.createElement(i.a,{style:{width:"48%"},placeholder:"\u8f93\u5165\u7ecf\u5ea6",value:this.addressPoint.longitude,max:180,onChange:this.changeLon})),g.a.createElement("span",null,g.a.createElement(i.a,{style:{width:"48%"},placeholder:"\u8f93\u5165\u7eac\u5ea6",value:this.addressPoint.latitude,max:90,onChange:this.changeLat}))):"",g.a.createElement(n.a,{closable:!1,className:"modal-map",onCancel:this.onCancel,onOk:this.onOk,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",title:"\u4f4d\u7f6e\u9009\u62e9",visible:this.state.visible},g.a.createElement("div",{className:"inner-map"},g.a.createElement("div",{className:"search-input"},g.a.createElement(m.a,{backfill:!0,dataSource:this.state.addressAutoCompleteDataSource,className:"global-search",style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5730\u5740",optionLabelProp:"text",value:this.state.searchValue,onSelect:function(t,a){var n=a.props.district?a.props.district+a.props.address+a.props.name:a.props.name;e.addressMap.setValue(a.props.location,n,!0),e.setState({searchValue:n})},onChange:function(t){e.setState({searchValue:t})},onSearch:function(t){e.addressMap&&e.addressMap.autocompleteSearch(t,(function(a,n){console.log("autocompleteSearch",t,a,n),e.setState({addressAutoCompleteDataSource:"complete"==a?n.tips.map((function(e){return g.a.createElement(w,Object.assign({key:"".concat(e.name).concat(e.adcode).concat(e.id)},e),e.district?e.district+e.address+e.name:e.name)})):[]})}))}},g.a.createElement(k,{enterButton:!0}))),g.a.createElement(D,{ref:function(t){return e.addressMap=t},addressChange:this.state.inputValue,styleName:"map-out",position:this.addressPoint,location:this.locationValue,onChange:this.locationChane,geolocation:!0}))))}}]),t}(g.a.Component)},1164:function(e,t,a){},1189:function(e,t,a){},1190:function(e,t,a){},1226:function(e,t,a){"use strict";a.r(t);a(1113);var n=a(1112),i=(a(146),a(41)),r=(a(1108),a(1109)),s=(a(1114),a(1115)),o=(a(325),a(85)),c=(a(321),a(117)),l=a(174),u=a(175),d=a(177),p=a(176),m=a(179),h=a(178),f=(a(324),a(84)),g=(a(241),a(180)),v=(a(1110),a(1111)),y=a(0),b=a.n(y),E=a(147),S=(a(1189),a(489)),C=a(1158),D=(a(322),a(181)),k=(a(1118),a(1119)),w=(a(491),a(118)),O=(a(492),a(60)),A=(a(493),a(9)),x=(a(1116),a(1117)),T=(a(494),a(242)),N=(a(1123),a(1122)),P=a(1147),j=a(1159),I=(a(1190),a(1163)),L=a(20),V=a.n(L),M=a(1150),_=a(1160),R=(g.a.Search,f.a.Option,g.a.TextArea,N.a.RangePicker),B=T.a.TabPane,Y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.onRowEvent=function(t){var a=[];a.push(t.id),e.setState({selectedRowKeys:a})},e.uploadSuccess=function(t){e.faceUrl=t.data},e.handleSubmit=function(t){t&&t.preventDefault();var a=e.props.type;e.faceUrl||"edit"===a?e.props.form.validateFieldsAndScroll((function(t,a){if(!t){var n={};n=2!=e.state.tabKey?Object.assign(a,e.position||{}):a;var i=e.faceUrl?e.faceUrl:"";if(i)n.cover=i;else{if("edit"!==e.props.type||i||!e.pageData.cover)return void c.a.error("\u8bf7\u4e0a\u4f20\u5c01\u9762!");n.cover=e.pageData.cover}if(a.rTime&&a.rTime[0]&&(a.rStartTime=V()(a.rTime[0]).valueOf(),a.rEndTime=V()(a.rTime[1]).valueOf(),delete a.rTime),a.aTime&&a.aTime[0]&&(a.aStartTime=V()(a.aTime[0]).valueOf(),a.aEndTime=V()(a.aTime[1]).valueOf(),delete a.aTime),a.aStartTime<a.rEndTime)return void c.a.error("\u62a5\u540d\u65f6\u95f4\u8981\u5728\u6d3b\u52a8\u65f6\u95f4\u524d!");"edit"===e.props.type?(!a.activityname&&e.pageData.activityname&&(a.activityname=e.pageData.activityname),a.activitypracticeid=e.pageData.activitypracticeid,a.userid=e.pageData.userid,e.onUpdate(a)):e.onSubmit(a)}})):c.a.error("\u8bf7\u4e0a\u4f20\u5c01\u9762!")},e.onSubmit=function(t){e.setState({loading:!0}),C.a(t).then((function(t){t.success&&(c.a.success("\u4fdd\u5b58\u6210\u529f"),"onOk"in e.props&&e.props.onOk())})).catch((function(e){c.a.error("\u4fdd\u5b58\u5931\u8d25")})).finally((function(t){e.setState({loading:!1})}))},e.onUpdate=function(t){e.setState({loading:!0}),C.j(t).then((function(t){t.success&&(c.a.success("\u4fdd\u5b58\u6210\u529f"),"onOk"in e.props&&e.props.onOk())})).catch((function(e){c.a.error("\u4fdd\u5b58\u5931\u8d25")})).finally((function(t){e.setState({loading:!1})}))},e.editAtivityName=function(){2!=e.state.tabKey&&e.setState({nameEdit:!0})},e.tabChange=function(t){e.setState({tabKey:t})},e.disabledStartDate=function(e){var t=V()().subtract(1,"days").valueOf();return V()(e).valueOf()<t},e.range=function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a},e.disabledStartDateTime=function(){var t=V()().hour(),a=V()().minute();return{disabledHours:function(){return e.range(0,24).splice(0,t)},disabledMinutes:function(){return e.range(0,60).splice(0,a)}}},e.disabledEndDate=function(t){var a=V()().endOf("day").valueOf(),n=V()(t).valueOf(),i=V()(n).valueOf(),r=e.props.form.getFieldValue("rTime"),s="";return r&&Array.isArray(r)&&r[1]&&(s=V()(r[1]).valueOf()),s?i<s:i<a},e.disabledEndDateTime=function(t,a){var n=e.props.form.getFieldValue("rTime"),i=V()(),r="";if(!(n&&Array.isArray(n)&&n[1]))return{};i=V()(n[1]),r=V()(n[1]).format("YYYY-MM-DD");var s,o,c,l=i.hour(),u=i.minute(),d=i.second();Array.isArray(t)&&"start"==a?(s=V()(t[0]).hour(),o=V()(t[0]).minute(),c=V()(t[0]).format("YYYY-MM-DD")):Array.isArray(t)&&"end"==a?(s=V()(t[1]).hour(),o=V()(t[1]).minute(),c=V()(t[1]).format("YYYY-MM-DD")):(s=V()(t).hour(),o=V()(t).minute(),c=V()(t).format("YYYY-MM-DD"));var p=V()(r).isSame(V()(c));return d+1>=60&&(d=0,(u+=1)>=60&&(l+=1,u=0)),{disabledHours:function(){return p?e.range(0,24).splice(0,l):e.range(0,24).splice(0,0)},disabledMinutes:function(){return p&&s==l?e.range(0,60).splice(0,u):e.range(0,60).splice(0,0)},disabledSeconds:function(){return p&&s==l&&o==u?e.range(0,60).splice(0,d):e.range(0,60).splice(0,0)}}},e.deleteConfirm=function(t){var a=[];t.map((function(e){a.push(e.activityenterid)}));var n={id:a.join(",")};C.f(n).then((function(a){if(200==a.state){c.a.success("\u79fb\u9664\u6210\u529f\uff01");var n=e.state.tableData.filter((function(e,a){return e.activityenterid!=t[0].activityenterid}));e.setState({tableData:n,backStatus:!0})}}))},e.lookDetail=function(t){C.d({id:t.activityenterid}).then((function(t){if(t&&t.success){var a=t.data;e.setState({detailVisible:!0,participantData:{ActivityEnter:a.ActivityEnter||{},thridInfo:a.CustomerInfo&&a.CustomerInfo.thridInfo||{}}})}}))},e.handleCancel=function(){e.setState({detailVisible:!1})},e.state={selectedRowKeys:[],tableData:[],totalCount:0,loading:!1,nameEdit:!1,tabKey:"1",num:0,detailVisible:!1,participantData:{}},e.imgPrev=sessionStorage.getItem("imgPrev"),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.imgPrev=sessionStorage.getItem("imgPrev")}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=[{title:"\u53c2\u4e0e\u8005\u540d\u79f0",dataIndex:"customername",align:"left",width:150,render:function(e,t){return b.a.createElement(o.a,{placement:"topLeft",title:e},b.a.createElement("span",null,e))}},{title:"\u52a0\u5165\u65f6\u95f4",dataIndex:"subdate",align:"left",width:160,render:function(e,t){return b.a.createElement("span",null,e)}},{title:"\u662f\u5426\u5ba1\u6838",dataIndex:"checkerid",align:"left",width:100,render:function(e,t){return e?b.a.createElement("span",null,"\u5df2\u5ba1\u6838"):b.a.createElement("span",null,"\u672a\u7ecf\u5ba1\u6838")}},{title:"\u7b7e\u5230\u65f6\u95f4",dataIndex:"signtime",align:"left",width:200,render:function(e,t){var a="";return a=e||"\u6682\u672a\u7b7e\u5230",b.a.createElement("span",null,a)}},{title:"\u7b7e\u9000\u65f6\u95f4",dataIndex:"signouttime",width:200,align:"left",render:function(e,t){var a="";return a=e||"\u6682\u672a\u7b7e\u9000",b.a.createElement("span",null,a)}},{title:"\u64cd\u4f5c",align:"left",width:120,render:function(t,a){return b.a.createElement("div",{role:"button",tabIndex:"-1",style:{whiteSpace:"nowrap"},onClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation()}},b.a.createElement("a",{role:"button",tabIndex:"0",className:"tableOperateButton",onClick:function(t){e.lookDetail(a||{})}},"\u67e5\u770b"),b.a.createElement(s.a,{placement:"right",title:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u64a4\u56de\uff0c\u662f\u5426\u786e\u8ba4\u5c06\u8be5\u7528\u6237\u4ece\u6b64\u6d3b\u52a8\u7684\u53c2\u4e0e\u8005\u4e2d\u79fb\u9664?",okType:"danger",onConfirm:function(){return e.deleteConfirm([a],1)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},b.a.createElement("a",{role:"button",className:"tableOperateButton",type:"link"},"\u79fb\u9664")))}}],c={labelCol:{xs:{span:12},sm:{span:4}},wrapperCol:{xs:{span:12},sm:{span:19}}},l=this.props,u=l.detailData,d=void 0===u?{}:u,p=l.serverArea,m=void 0===p?[]:p,h=(l.serverType,l.type);this.pageData="edit"===h?d.activityRecruit:{},"edit"===h&&4==this.pageData.state&&(this.cancleEdit=!0),"edit"!==h||this.position||(this.position={addresslatitude:this.pageData.addresslatitude,addresslongitude:this.pageData.addresslongitude});return b.a.createElement(b.a.Fragment,null,b.a.createElement(r.a,{className:"breadcrumbBox"},b.a.createElement(r.a.Item,null,b.a.createElement(P.a,{onClick:this.props.onOk,to:"/ActivityPracticeList"},this.props.navTitle)),b.a.createElement(r.a.Item,null,b.a.createElement(P.a,{to:"/ActivityPracticeList",className:"active"},"create"===this.props.type?"\u65b0\u5efa\u6d3b\u52a8":"\u6d3b\u52a8\u8be6\u60c5"))),b.a.createElement("div",{className:"eachPageBox detail-part"},b.a.createElement(D.a,{tip:"\u4fdd\u5b58\u4e2d...",spinning:this.state.loading},b.a.createElement(x.a,Object.assign({className:"form-part"},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),"create"!=h?b.a.createElement(T.a,{defaultActiveKey:"1",activeKey:this.state.tabKey,onChange:this.tabChange},b.a.createElement(B,{tab:"\u6d3b\u52a8\u4fe1\u606f",key:"1"}),b.a.createElement(B,{tab:"\u53c2\u4e0e\u8005",key:"2"})):"",b.a.createElement("div",{className:"detail-panel-part-activity"},b.a.createElement("div",{className:"panel-part-title-activity"},"create"===this.props.type||"edit"===h&&this.state.nameEdit&&!this.cancleEdit?b.a.createElement(x.a.Item,Object.assign({style:{marginBottom:"0",width:"100%"}},{labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:24},sm:{span:24}}}),t("activityname",{initialValue:this.pageData.activityname||this.pageData.title||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0\uff01"}]})(b.a.createElement(g.a,{maxLength:30,placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0"}))):b.a.createElement("span",{className:"title-show-part",role:"button",tabIndex:"-1",onClick:this.editAtivityName},this.pageData.activityname,"edit"!==h||this.cancleEdit||1!=this.state.tabKey?"":b.a.createElement(A.a,{className:"can-editButton",type:"edit",stlyle:{position:"relative"}}))),"1"==this.state.tabKey?b.a.createElement("div",{className:"has-img"},b.a.createElement("div",{className:"part-main"},b.a.createElement(j.a,{type:"text",buttonText:"\u70b9\u51fb\u4e0a\u4f20\u5c01\u9762\u56fe",imgValue:this.pageData.cover?this.imgPrev+this.pageData.cover:"",disabled:this.cancleEdit,onChange:function(t){e.pageData.cover=t.data,e.faceUrl=t.data,e.setState({num:e.state.num+1})}}),b.a.createElement("p",{style:{textAlign:"center",margin:"10px 0"}},"\u5efa\u8bae\u4e0a\u4f2016:9\u7684jpg,png\u683c\u5f0f\u56fe\u7247,\u56fe\u7247\u5927\u5c0f\u4e0d\u8d85\u8fc75M"),b.a.createElement(w.a,{className:"row-content"},b.a.createElement(O.a,{span:12},b.a.createElement(x.a.Item,{label:"\u6d3b\u52a8\u5730\u533a"},t("areaid",{initialValue:this.pageData.areaid?this.pageData.areaid+"":void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u5730\u533a!"}]})(b.a.createElement(f.a,{disabled:this.cancleEdit,onChange:function(e){},style:{width:"200px"},placeholder:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u5730\u533a"},m.map((function(e,t){return b.a.createElement(f.a.Option,{key:t,value:e.dictionaryId+""},e.dictionaryValue)})))))),b.a.createElement(O.a,{span:12},b.a.createElement(x.a.Item,{label:"\u6d3b\u52a8\u5730\u5740"},t("address",{initialValue:this.pageData.address,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u5730\u5740\uff01"}]})(b.a.createElement(I.a,{disabled:this.cancleEdit,locationValue:this.pageData.address,locationPoint:{latitude:this.pageData.addresslatitude,longitude:this.pageData.addresslongitude},onChange:function(t,a){e.props.form.setFieldsValue({address:t}),e.position={addresslatitude:a.latitude,addresslongitude:a.longitude}}}))))),b.a.createElement(w.a,null,b.a.createElement(O.a,{span:12},b.a.createElement(x.a.Item,{label:"\u6d3b\u52a8\u4eba\u6570"},t("recruitcount",{initialValue:this.pageData.recruitcount,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u4eba\u6570\uff01"},{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u4eba\u6570"}]})(b.a.createElement(k.a,{disabled:this.cancleEdit,min:0,style:{width:"200px"},placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u4eba\u6570",max:99999})))),b.a.createElement(O.a,{span:12},b.a.createElement(x.a.Item,{label:"\u7b7e\u5230\u534a\u5f84"},t("checkrange",{initialValue:this.pageData.checkrange,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7b7e\u5230\u534a\u5f84!"}]})(b.a.createElement(k.a,{max:1e4,disabled:this.cancleEdit,min:1,style:{width:"200px"},placeholder:"\u8bf7\u586b\u5199\u7b7e\u5230\u534a\u5f84"}))," ",b.a.createElement("span",{style:{marginLeft:"5px"}},"\u7c73")))),b.a.createElement(w.a,null,b.a.createElement(x.a.Item,Object.assign({label:"\u62a5\u540d\u65f6\u95f4"},c),t("rTime",{initialValue:"launch"===h||"edit"===h?[V()(this.pageData.recruitstarttime),V()(this.pageData.recruitendtime)]:[],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u62a5\u540d\u65f6\u95f4\uff01"}]})(b.a.createElement(R,{disabled:this.cancleEdit,showTime:{hideDisabledOptions:!0,defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},onChange:function(t){e.props.form.setFieldsValue({aTime:[V()(V()(t[1]).add("1","seconds")),void 0]})},format:"YYYY-MM-DD HH:mm:ss",disabledDate:this.disabledStartDate,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],style:{width:"380px"}})))),b.a.createElement(w.a,null,b.a.createElement(x.a.Item,Object.assign({label:"\u6d3b\u52a8\u65f6\u95f4"},c),t("aTime",{initialValue:"launch"===h||"edit"===h?[V()(this.pageData.activitystarttime),V()(this.pageData.activityendtime)]:[],rules:[{validator:function(e,t,a){t[1]||a("\u8bf7\u9009\u62e9\u7ed3\u675f\u65f6\u95f4"),t[0]&&t[1]&&a()},required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u65f6\u95f4\uff01"}]})(b.a.createElement(R,{disabled:this.cancleEdit,format:"YYYY-MM-DD HH:mm:ss",disabledTime:this.disabledEndDateTime,disabledDate:this.disabledEndDate,showTime:{hideDisabledOptions:!0,defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],style:{width:"380px"}})))),b.a.createElement(w.a,null,b.a.createElement(x.a.Item,Object.assign({label:"\u6d3b\u52a8\u5ba1\u6838"},c),t("ischeck",{initialValue:this.pageData.ischeck?this.pageData.ischeck+"":"1",rules:[{required:!1,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u5ba1\u6838\uff01"}]})(b.a.createElement(f.a,{disabled:this.cancleEdit,style:{width:"200px"},placeholder:"\u8bf7\u9009\u62e9"},b.a.createElement(f.a.Option,{value:"1"},"\u5f00\u542f"),b.a.createElement(f.a.Option,{value:"2"},"\u5173\u95ed"))))),b.a.createElement(w.a,null,b.a.createElement(x.a.Item,Object.assign({label:"\u6d3b\u52a8\u63cf\u8ff0",ref:function(t){t&&(e.formItem=t)}},{labelCol:{xs:{span:12},sm:{span:4}},wrapperCol:{xs:{span:12},sm:{span:20}}}),t("activitydesc",{initialValue:this.pageData.activitydesc||this.pageData.description,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u63cf\u8ff0\uff01"}]})(b.a.createElement(_.a,{className:"showText-area",limit:"500",disabled:this.cancleEdit,rows:4,placeholder:"\u4e3a\u907f\u514d\u6d3b\u52a8\u521b\u5efa\u5931\u8d25\uff0c\u5efa\u8bae\u6b64\u5904\u8f93\u5165\u5b57\u6570\u4e0d\u8d85\u8fc7500\u5b57!"})))),"edit"===h?b.a.createElement(w.a,null,b.a.createElement(x.a.Item,Object.assign({label:"\u6d3b\u52a8\u72b6\u6001"},c),M.d[this.pageData.state])):"","edit"===h?b.a.createElement(w.a,null,b.a.createElement(O.a,{span:12},b.a.createElement(x.a.Item,{label:"\u521b\u5efa\u4eba"},this.pageData.subuser)),b.a.createElement(O.a,{span:12},b.a.createElement(x.a.Item,{label:"\u521b\u5efa\u65f6\u95f4"},this.pageData.subdate))):"")):b.a.createElement("div",{className:"tableCont mainContentBox table-activity-detail",style:{height:"400px"}},b.a.createElement(n.a,{rowKey:"activityenterid",columns:a,dataSource:this.state.tableData,pagination:!1,scroll:{x:"100%",y:"300px"}}))),b.a.createElement("div",{className:"button-part"},b.a.createElement(i.a,{onClick:function(){return e.props.back(e.state.backStatus)}},"\u8fd4\u56de"),this.cancleEdit||2==this.state.tabKey?"":b.a.createElement(i.a,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58")))),b.a.createElement(v.a,{title:"\u62a5\u540d\u8be6\u60c5",visible:this.state.detailVisible,className:"activityPractice-detail-modal",onCancel:this.handleCancel,footer:null},b.a.createElement("div",{className:"line-part"},b.a.createElement("div",{className:"label-part"},"\u8d26\u53f7\u5934\u50cf:"),b.a.createElement("div",{className:"content-text"},b.a.createElement("img",{className:"avatar-img",src:this.state.participantData.thridInfo&&this.state.participantData.thridInfo.avatar,alt:""}))),b.a.createElement("div",{className:"line-part"},b.a.createElement("div",{className:"label-part"},"\u8d26\u53f7\u540d:"),b.a.createElement("div",{className:"content-text"},this.state.participantData.thridInfo&&this.state.participantData.thridInfo.nickname)),b.a.createElement("div",{className:"line-part"},b.a.createElement("div",{className:"label-part"},"\u771f\u5b9e\u59d3\u540d:"),b.a.createElement("div",{className:"content-text"},this.state.participantData.thridInfo&&this.state.participantData.thridInfo.realName)),b.a.createElement("div",{className:"line-part"},b.a.createElement("div",{className:"label-part"},"\u8054\u7cfb\u7535\u8bdd:"),b.a.createElement("div",{className:"content-text"},this.state.participantData.thridInfo&&this.state.participantData.thridInfo.mobile)),b.a.createElement("div",{className:"line-part word-tips"},b.a.createElement("div",{className:"label-part"},"\u62a5\u540d\u8bf4\u660e:"),b.a.createElement("div",{className:"content-text"},this.state.participantData.ActivityEnter&&this.state.participantData.ActivityEnter.remark)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"edit"!==e.type||t.canGo?{}:{tableData:e.detailData&&e.detailData.cusList||[],canGo:!0}}}]),t}(y.Component),H=x.a.create({name:"detailForm"})(Y),K=Object(E.c)((function(e){var t=e.message,a=e.navTitle;return{listData:t.listData,listLoading:t.listLoading,navTitle:a.navTitle}}),(function(e){return{getList:e.message.getList}}))(H),q=a(323),F=v.a.confirm,z=g.a.Search,U=f.a.Option,G=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).onSelectChange=function(t,a){var n=[],i=[];a.map((function(e){i.push(e),n.push(e.activitypracticeid)})),e.setState({selectedRowKeys:n,selectRows:i})},e.onRowEvent=function(t){var a=[],n=[];a.push(t.activitypracticeid),n.push(t),e.setState({selectedRowKeys:a,selectRows:n})},e.getDataList=function(){var t={};t.params=Object.assign(e.searchData,e.listData),e.setState({emptyTxt:"\u52a0\u8f7d\u4e2d",tableData:[],isLoad:!0}),C.k(t).then((function(t){var a=t&&t.data.data||[],n=Array.isArray(a)?a:[];n.map((function(e){return e.isShow=!1})),e.setState({tableData:n,totalCount:t.data&&t.data.totalCount||0,isLoad:!1},(function(){e.state.tableData.length||e.setState({emptyTxt:"\u6682\u65e0\u6570\u636e"})}))}))},e.fetchParams=function(){C.l({}).then((function(t){200==t.state&&(e.callBackParams.cb=t.data.cb,e.callBackParams.sj=t.data.sj,e.callBackParams.zm=t.data.zm)}))},e.pubSummary=function(t){var a={taskId:t.activityrecruitid,callbackFlag:"Y",callbackUrl:e.callBackParams.cb+"?type=2",editor_callback_url:e.callBackParams.sj,editor_type:"2",editor_tite:t.activityname,editor_id:t.activityrecruitid},n=(new M.a).encode(JSON.stringify(a)),i="https://editorweb.wjtest.chinamcloud.cn/?queryParam=".concat(n,"&version=cms2&type=1#/");window.open(i)},e.changeShow=function(t){var a=e.state.tableData;t.isShow=!t.isShow,a.map((function(e){e.activityrecruitid===t.activityrecruitid&&(e=t)})),e.setState({tableData:a})},e.closeRecordModal=function(){e.setState({showRecord:!1})},e.openRecordModal=function(){e.setState({showRecord:!0})},e.onShowSizeChange=function(t,a){e.listData.pageno=t,e.listData.pagesize=a,e.getDataList()},e.pageBack=function(t){t&&e.getDataList(),e.setState({pageType:!0})},e.getSearviceType=function(){S.h().then((function(t){var a=t&&Array.isArray(t.data)?t.data:[];localStorage.setItem("serverType",JSON.stringify(a)),e.setState({serverType:a})}))},e.getSearviceArea=function(){S.g().then((function(t){if(t&&t.success){var a=t&&Array.isArray(t.data)?t.data:[];localStorage.setItem("serverArea",JSON.stringify(a)),e.setState({serverArea:a})}}))},e.confirm=function(t){var a=[];t.map((function(e){a.push(e.activitypracticeid)}));var n={ids:a.join(",")};C.e(n).then((function(a){200==a.state&&(c.a.success("\u5220\u9664\u6210\u529f\uff01"),t.length==e.state.tableData.length&&(e.listData.pageno=1),e.getDataList(),e.setState({selectRows:[],selectedRowKeys:[]}))}))},e.lookDetail=function(t){if(t.activitypracticeid){var a={id:t.activitypracticeid};C.g(a).then((function(t){t.success&&e.setState({currentDetail:t.data,pageType:"edit"})}))}},e.onOk=function(){e.getDataList(),e.setState({pageType:!0})},e.mulpDelete=function(){if(console.log(e.state.selectRows),!e.state.selectRows||e.state.selectRows.length<1)c.a.info("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u6d3b\u52a8!");else{var t=Object(m.a)(e);F({title:"\u5220\u9664\u786e\u8ba4",content:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u64a4\u56de,\u662f\u5426\u786e\u8ba4\u5220\u9664\u6240\u9009\u6d3b\u52a8?",onOk:function(){t.confirm(t.state.selectRows)}})}},e.createActivity=function(){e.setState({pageType:"create"})},e.enableChange=function(t,a){var n={enable:1==a?0:1,ids:t.join(",")};C.h(n).then((function(t){if(t&&t.success){var n=1==a?"\u7981\u7528\u6210\u529f":"\u542f\u7528\u6210\u529f";c.a.success(n),e.getDataList(),e.setState({selectRows:[],selectedRowKeys:[]})}}))},e.state={selectedRowKeys:[],tableData:[],totalCount:0,emptyTxt:"\u52a0\u8f7d\u4e2d...",params:{pageSize:10,page:1},currentDetail:{},pageType:!0,serverType:JSON.parse(localStorage.getItem("serverType"))||[],serverArea:JSON.parse(localStorage.getItem("serverArea"))||[],zzmm:[],jxyl:[],searchData:{},showRecord:!1,isLoad:!1},e.listData={pageno:1,pagesize:10},e.searchData={},e.callBackParams={},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=(this.props.getList,this.state.params,Object(q.a)().login_chinamcloud_tid);t!==localStorage.getItem("login_tid")?(localStorage.setItem("login_tid",t),this.getSearviceType(),this.getSearviceArea()):(localStorage.getItem("serverType")||this.getSearviceType(),localStorage.getItem("serverArea")||this.getSearviceArea()),setTimeout((function(){e.getDataList()}))}},{key:"render",value:function(){var e=this,t=this.state.selectedRowKeys,a=this.listData,c={selectedRowKeys:t,onChange:this.onSelectChange},l={pageSize:a.pagesize,total:this.state.totalCount,current:a.pageno,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onShowSizeChange},u=[{title:"\u6d3b\u52a8\u540d\u79f0",dataIndex:"activityname",align:"left",width:100,render:function(e,t){return b.a.createElement(o.a,{placement:"topLeft",title:e},b.a.createElement("span",null,e))}},{title:"\u6d3b\u52a8\u5730\u533a",dataIndex:"areaid",align:"left",width:100,render:function(t,a){var n="";return e.state.serverArea.length>0&&e.state.serverArea.map((function(e){e.dictionaryId==t&&(n=e.dictionaryValue)})),b.a.createElement("span",null,n)}},{title:"\u53c2\u4e0e\u4eba\u6570",dataIndex:"hascount",align:"left",width:60,render:function(e,t){return b.a.createElement("span",null,e," \u4eba")}},{title:"\u4e3e\u529e\u7ec4\u7ec7",dataIndex:"stationName",align:"left",width:100,render:function(e,t){var a="";return a="1"==t.userid?"\u5b9e\u8df5\u4e2d\u5fc3":t.userid,b.a.createElement(o.a,{placement:"topLeft",title:a},b.a.createElement("span",null,a))}},{title:"\u6d3b\u52a8\u5f00\u59cb\u65f6\u95f4",dataIndex:"activitystarttime",align:"left",width:150,render:function(e,t){var a=e&&V()(e).format("YYYY-MM-DD HH:mm:ss");return b.a.createElement("span",null,a)}},{title:"\u6d3b\u52a8\u7ed3\u675f\u65f6\u95f4",dataIndex:"activityendtime",align:"left",width:150,render:function(e,t){var a=e&&V()(e).format("YYYY-MM-DD HH:mm:ss");return b.a.createElement("span",null,a)}},{title:"\u6d3b\u52a8\u72b6\u6001",dataIndex:"state",align:"left",width:80,render:function(e,t){return b.a.createElement("span",null,M.k[e])}},{title:"\u64cd\u4f5c",align:"left",width:120,render:function(t,a){return b.a.createElement("div",{role:"button",className:"operate-wraps",tabIndex:"-1",style:{whiteSpace:"nowrap"},onClick:function(e){e&&e.preventDefault(),e&&e.stopPropagation()}},b.a.createElement("a",{role:"button",tabIndex:"0",className:"tableOperateButton",onClick:function(t){e.lookDetail(a||{})}},"\u67e5\u770b"),b.a.createElement("a",{role:"button",tabIndex:"0",className:"tableOperateButton",onClick:function(t){e.enableChange([a.activitypracticeid],a.enable)}},0==a.enable?"\u542f\u7528":"\u7981\u7528"),b.a.createElement(s.a,{placement:"right",title:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u64a4\u56de,\u662f\u5426\u786e\u8ba4\u5220\u9664\u6240\u9009\u6d3b\u52a8?",okType:"danger",onConfirm:function(){return e.confirm([a],1)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},b.a.createElement("a",{role:"button",className:"tableOperateButton",type:"link"},"\u5220\u9664")))}}],d=[{title:"\u6587\u7a3f\u6807\u9898",dataIndex:"title",align:"left"},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"creatTime",align:"left"},{title:"\u53d1\u5e03\u6e20\u9053",dataIndex:"channel",align:"left"},{title:"\u64cd\u4f5c",dataIndex:"operate",align:"left",render:function(){return b.a.createElement("div",{className:"btn-groups"},b.a.createElement("a",{role:"button",className:"prev-btn"},"\u9884\u89c8"),b.a.createElement("a",{role:"button",className:"edit-btn"},"\u7f16\u8f91"))}}];return 1==this.state.pageType?b.a.createElement(b.a.Fragment,null,b.a.createElement(r.a,{className:"breadcrumbBox"},b.a.createElement(r.a.Item,null,b.a.createElement("span",{className:"title-active"},this.props.navTitle))),b.a.createElement("div",{className:"eachPageBox"},b.a.createElement("div",{style:{height:"100%"}},b.a.createElement("div",{className:"navTopBox"},b.a.createElement("div",{className:"btnBox"},b.a.createElement(i.a,{type:"primary",onClick:this.createActivity},"\u65b0\u5efa\u6d3b\u52a8"),b.a.createElement(i.a,{type:"danger",ghost:!0,onClick:this.mulpDelete},"\u5220\u9664")),b.a.createElement("div",{className:"searchFatherBox searchLeftPadding"},b.a.createElement("div",{className:"searchBox "},b.a.createElement("span",{className:"item-search-part"},"\u6d3b\u52a8\u72b6\u6001\uff1a",b.a.createElement(f.a,{value:this.state.searchData.state,placeholder:"\u5168\u90e8",style:{width:120},onChange:function(t){e.listData.pageno=1,e.listData.pagesize=10,e.searchData.state=t,e.setState({searchData:e.searchData}),e.getDataList()}},b.a.createElement(U,{value:""},"\u5168\u90e8"),Object.keys(M.k).map((function(e,t){return b.a.createElement(U,{key:t,value:e},M.k[e])})))),b.a.createElement(z,{placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d",enterButton:"\u641c\u7d22",value:this.state.searchData.activityname,onChange:function(t){e.searchData.activityname=t.target.value,e.setState({searchData:e.searchData})},onSearch:function(t){e.searchData.activityname=t,e.getDataList()},style:{width:240}})))),b.a.createElement("div",{className:"tableCont mainContentBox",style:{height:"calc(100% - 121px)"}},b.a.createElement(n.a,{rowKey:"activitypracticeid",columns:u,rowSelection:c,pagination:!this.state.isLoad&&l,dataSource:this.state.tableData,locale:{emptyText:this.state.emptyTxt},onRow:function(t,a){return{index:a,onClick:e.onRowEvent.bind(e,t)}},scroll:{x:"100%",y:"calc(100vh - 291px)"}}))),b.a.createElement(v.a,{title:"\u603b\u7ed3\u8bb0\u5f55",visible:this.state.showRecord,onCancel:this.closeRecordModal,footer:null,width:800},b.a.createElement("div",{className:"records-wraps"},b.a.createElement(n.a,{columns:d}))))):b.a.createElement(K,{type:this.state.pageType,serverArea:this.state.serverArea,serverType:this.state.serverType,detailData:this.state.currentDetail,onOk:this.onOk,back:this.pageBack})}}]),t}(y.Component);t.default=Object(E.c)((function(e){var t=e.message,a=e.navTitle;return{listData:t.listData,listLoading:t.listLoading,navTitle:a.navTitle}}),(function(e){return{getList:e.message.getList}}))(G)},489:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"o",(function(){return f})),a.d(t,"n",(function(){return g})),a.d(t,"b",(function(){return v})),a.d(t,"e",(function(){return y})),a.d(t,"m",(function(){return b})),a.d(t,"l",(function(){return E})),a.d(t,"c",(function(){return S})),a.d(t,"k",(function(){return C})),a.d(t,"f",(function(){return D})),a.d(t,"a",(function(){return k}));var n=a(116),i=a(320),r=a(182),s=a(323),o=Object(r.a)(window.location.search).stag;o&&(o=o.replace("/",""));var c=Object(s.a)(),l={};l="H"===o?{access_token:c.access_token,stag:"H"}:{login_id:c.login_chinamcloud_id,login_tid:c.login_chinamcloud_tid,stag:"B"};var u=function(e){var t="".concat(i.a,"/customer/admin/clist");return n.a.post(t,e.params)},d=function(e){var t=i.a+"/customer/admin/list";return n.a.post(t,e.params)},p=function(e){var t=i.a+"/customer/admin/show";return n.a.post(t,e)},m=function(e){var t=i.a+"/other/admin/servertype";return n.a.post(t,{})},h=function(e){var t=i.a+"/other/admin/serverarea";return n.a.post(t,{})},f=function(e){var t=i.a+"/customer/admin/uploadFace";return n.a.post(t,e)},g=function(e){var t=i.a+"/picture/admin/upload";return n.a.post(t,e)},v=function(e){var t=i.a+"/customer/admin/modify";return n.a.post(t,e)},y=function(e){var t="",a=Object.keys(l).length;Object.keys(l).map((function(e,n){t+="".concat(e,"=").concat(l[e]).concat(n+1==a?"":"&")}));var r=i.a+"/dict/admin/all?".concat(t);return n.a.get(r)},b=function(e){var t=i.a+"/customer/admin/apply";return n.a.post(t,e)},E=function(e){var t=i.a+"/customer/admin/addScore";return n.a.post(t,e)},S=function(e){var t=i.a+"/customer/admin/times";return n.a.post(t,e)},C=function(e){var t=i.a+"/customer/admin/utime";return n.a.post(t,e)},D=function(e){var t=i.a+"/customer/admin/invite/list";return n.a.post(t,e)},k=function(e){var t=i.a+"/customer/admin/invite";return n.a.post(t,e)}}}]);